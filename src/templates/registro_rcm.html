{% extends './base.html' %}

{% block title %}Cotecmar || Registro del RCM{% endblock %}

{% block custom %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="{{ url_for('static', filename='css/registro_rcm.css') }}">
{% endblock %}

{% block nombre %}LSA | Registro del RCM{% endblock %}

{% block body %}
<div class="container-fluid">
    <div class="row">
        <div class="col-auto">
            <button class="navbar-toggler custom-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent" aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse navbarvertical" id="navbarContent">
                <ul class="nav flex-column">
                    <li class="nav-item"><a class="nav-link" href="{{url_for('registro_generalidades')}}">Información del equipo</a></li>
                    <li class="nav-item"><a class="nav-link" href="{{url_for('registro_analisis_funcional')}}">Análisis funcional</a></li>
                    <li class="nav-item"><a class="nav-link" href="{{url_for('registro_herramientas_especiales')}}">Herramientas especiales</a></li>
                    <li class="nav-item"><a class="nav-link" href="{{url_for('registro_repuesto')}}">Repuesto</a></li>
                    <li class="nav-item"><a class="nav-link" href="{{url_for('registro_FMEA')}}">FMEA</a></li>
                    <li class="nav-item active"><a class="nav-link" href="{{url_for('registro_RCM')}}">RCM</a></li>
                    <li class="nav-item "><a class="nav-link" href="{{url_for('registro_MTA')}}">MTA - LORA</a></li>
                </ul>
            </div>
        </div>

        <div class="col">
            <h2 class="section-title text-center">Reliability Centered Maintenance (RCM) </h2>
            <br>
            <form id="rcm-form">
                <div class="row">
                    <!-- Primera Columna -->
                    <div class="col-md-4">
                        <label for="sistema" class="form-label">Sistema</label>
                        <input type="text" class="form-control" id="sistema" name="sistema" placeholder="Sistema">
                        <label for="codigo_modo_falla" class="form-label mt-3">Código Modo de Falla (ISO 14224)</label>
                        <input type="text" class="form-control" id="codigo_modo_falla" name="codigo_modo_falla" placeholder="Código Modo de Falla">
                        <label for="causas" class="form-label mt-3">Causas</label>
                        <input type="text" class="form-control" id="causas" name="causas" placeholder="Causas">
                    </div>

                    <!-- Segunda Columna -->
                    <div class="col-md-4">
                        <label for="falla_funcional" class="form-label">Falla Funcional (FF)</label>
                        <input type="text" class="form-control" id="falla_funcional" name="falla_funcional" placeholder="Falla Funcional">
                        <label for="consecutivo_modo_falla" class="form-label mt-3">Consecutivo Modo de Falla</label>
                        <input type="text" class="form-control" id="consecutivo_modo_falla" name="consecutivo_modo_falla" placeholder="Consecutivo Modo de Falla">  
                    </div>

                    <!-- Tercera Columna -->
                    <div class="col-md-4">
                        <label for="item_componente" class="form-label">Item o Componente</label>
                        <input type="text" class="form-control" id="item_componente" name="item_componente" placeholder="Item o Componente">
                        <label for="descripcion_modo_falla" class="form-label mt-3">Descripción Modo de Falla</label>
                        <input type="text" class="form-control" id="descripcion_modo_falla" name="descripcion_modo_falla" placeholder="Descripción Modo de Falla">
                    </div>

                    <div class="mt-3">
                        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal" id="startQuizBtn">
                            Realizar Cuestionario RCM
                        </button>
                        
                        <!-- El Modal (popup) -->
                        <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="exampleModalLabel">Cuestionario RCM</h5>
                                        <button id="startQuizBtn" type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body text-center">
                                        <label id="questionText" class="d-block mb-3"></label>
                                        <div id="answers">
                                            <!-- Los botones "Sí" y "No" -->
                                            <button type="button" class="btn btn-primary me-2" id="yesBtn">Sí</button>
                                            <button type="button" class="btn btn-primary" id="noBtn">No</button>
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <br><br>
                                        <button type="button" class="btn btn-secondary" id="backBtn"><i class="bi bi-arrow-left-circle-fill"></i></button>
                                    </div>                             
                                </div>
                            </div>
                        </div>
                        
                    </div>

                    <div class="col-md-4">

                        <label for="hidden_failures" class="form-label mt-3">Hidden Failures</label>
                        <input type="text" class="form-control gray-input" id="cuestionario_rcm1" name="hidden_failures" placeholder="Hidden Failures">
                        
                        <label for="operation" class="form-label mt-3">Operation</label>
                        <input type="text" class="form-control gray-input" id="cuestionario_rcm4" name="operation" placeholder="Operation">
                        
                        <label for="h3s3" class="form-label mt-3">H3S3N3O3</label>
                        <input type="text" class="form-control gray-input" id="cuestionario_rcm7" name="h3s3" placeholder="H3/S3/N3/O3">
                        
                        <label for="tarea" class="form-label mt-3">Tarea</label>
                        <input type="text" class="form-control gray-input" id="cuestionario_rcm10" name="tarea" placeholder="Tarea">
                    </div>
                    <div class="col-md-4">
                        <label for="safety" class="form-label mt-3">Safety</label>
                        <input type="text" class="form-control gray-input" id="cuestionario_rcm2" name="safety" placeholder="Safety">
                        
                       <label for="h1s1" class="form-label mt-3">H1S1N1O1</label>
                       <input type="text" class="form-control gray-input" id="cuestionario_rcm5" name="h1s1" placeholder="H1/S1/N1/O1">

                       <label for="h4s4" class="form-label mt-3">H4S4</label>
                       <input type="text" class="form-control gray-input" id="cuestionario_rcm8" name="h4s4" placeholder="H4/S4">

                       <label for="accion_recomendada" class="form-label mt-3">Acción Recomendada FMEA (ISO 14224)</label>
                        <input type="text" class="form-control" id="accion_recomendada" name="accion_recomendada" placeholder="Acción Recomendada">
                    </div>
                    <div class="col-md-4">
                        <label for="enviroment" class="form-label mt-3">Environment</label>
                        <input type="text" class="form-control gray-input" id="cuestionario_rcm3" name="enviroment" placeholder="Environment">

                        <label for="operation" class="form-label mt-3">H2S2N2O2</label>
                        <input type="text" class="form-control gray-input" id="cuestionario_rcm6" name="operation" placeholder="Operation">

                        <label for="h5" class="form-label mt-3">H5</label>
                        <input type="text" class="form-control gray-input" id="cuestionario_rcm9" name="h5" placeholder="H5">

                        <label for="intervalo_inicial" class="form-label mt-3">Intervalo Inicial (en horas)</label>
                        <input type="number" class="form-control" id="intervalo_inicial" name="intervalo_inicial" placeholder="Intervalo Inicial">

                     </div>

                </div>

                <!-- Botón "Siguiente" para pasar a la segunda vista -->
                <div class="text-end mt-4">
                    <button type="button" class="btn btn-primary" id="btn-siguiente">Siguiente modo de falla</button>
                </div>
                <script>
                    document.getElementById('btn-siguiente').addEventListener('click', function() {
                    window.location.href = 'registro_RCM_2'; // Cambiar a la segunda vista de FMEA
                    });
                </script>
            </form>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="{{ url_for('static', filename='js/registro_rcm.js') }}"></script>
<script src="{{ url_for('static', filename='js/cuestionario_rcm.js') }}"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
{% endblock %}
