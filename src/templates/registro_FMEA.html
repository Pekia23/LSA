{% extends './base.html' %}

{% block title %}Cotecmar || Registro - Análisis Funcional{% endblock %}

{% block custom %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<link rel="stylesheet" href="{{ url_for('static', filename='css/FMEA.css') }}">
{% endblock %}

{% block nombre %}LSA | Registro de FMEA{% endblock %}

{% block body %}
<div class="container-fluid">
    <div class="row">
        <div class="col-auto">
            <button class="navbar-toggler custom-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent" aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse navbarvertical" style="margin-top: 60px;" id="navbarContent">
                <ul class="nav flex-column">
                    <li class="nav-item"><a class="nav-link" href="{{url_for('registro_generalidades')}}">Información del equipo</a></li>
                    <li class="nav-item"><a class="nav-link" href="{{url_for('registro_analisis_funcional')}}">Análisis funcional</a></li>
                    <li class="nav-item"><a class="nav-link" href="#">Análisis de herramientas</a></li>
                    <li class="nav-item"><a class="nav-link" href="{{url_for('registro_herramientas_especiales')}}">Herramientas especiales</a></li>
                    <li class="nav-item"><a class="nav-link" href="{{url_for('registro_repuesto')}}">Repuesto</a></li>
                    <li class="nav-item active"><a class="nav-link" href="{{url_for('registro_FMEA')}}">FMEA</a></li>
                    <li class="nav-item"><a class="nav-link" href="{{url_for('registro_RCM')}}">RCM</a></li>
                    <li class="nav-item"><a class="nav-link" href="{{url_for('registro_MTA')}}">MTA</a></li>
                    <li class="nav-item"><a class="nav-link" href="#">LORA</a></li>
                </ul>
            </div>
        </div>

        <div class="col">
            <h2 class="section-title text-center">Failure Modes and Effects Analysis (FMEA)</h2>
            <br>
            <form id="fmea-form-1">
                <div class="row mt-3">
        <div class="col-md-4">
            <label for="sistema" class="form-label">Sistema</label>
            <input type="text" class="form-control" id="sistema" name="sistema">
        </div>
        <div class="col-md-4">
            <label for="item_componente" class="form-label">Item o componente</label>
            <input type="text" class="form-control" id="item_componente" name="item_componente"> 
        </div>
        <div class="col-md-4">
            <label for="falla_funcional" class="form-label">Falla Funcional (FF)</label>
            <input type="text" class="form-control" id="falla_funcional" name="falla_funcional">
        </div>
    </div>

    <div class="row mt-3">
        <div class="col-md-4">
            <label for="codigo_modo_falla" class="form-label">Código Modo de Falla (Acc. to ISO 14224)</label>
            <input type="text" class="form-control" id="codigo_modo_falla" name="codigo_modo_falla">
        </div>
        <div class="col-md-4">
            <label for="consecutivo_modo_falla" class="form-label">Consecutivo de Modo de Falla</label>
            <input type="text" class="form-control" id="consecutivo_modo_falla" name="consecutivo_modo_falla">
        </div>
        <div class="col-md-4">
            <label for="descripcion_modo_falla" class="form-label">Descripción Modo de Falla</label>
            <input type="text" class="form-control" id="descripcion_modo_falla" name="descripcion_modo_falla">
        </div>

        
    </div>

    <div class="row mt-3">
        <div class="col-md-4">
            <label for="causas" class="form-label">Causas</label>
            <input type="text" class="form-control" id="causas" name="causas">
        </div>
        <div class="col-md-4">
            <label for="mecanismo_falla" class="form-label">Mecanismo de Falla</label>
            <input type="text" class="form-control" id="mecanismo_falla" name="mecanismo_falla">
        </div>
        <div class="col-md-4">
            <label for="detalle_mecanismo_falla" class="form-label">Detalle del Mecanismo de Falla</label>
            <input type="text" class="form-control" id="detalle_mecanismo_falla" name="detalle_mecanismo_falla">
        </div>

        
        
    </div>

    <div class="row mt-3">
        <div class="col-md-4">
            <label for="mtbf" class="form-label">MTBF (en horas)</label>
            <input type="number" class="form-control" id="mtbf" name="mtbf">
        </div>
        <div class="col-md-4">
            <label for="mttr" class="form-label">MTTR (en horas)</label>
            <input type="number" class="form-control" id="mttr" name="mttr">
        </div>

        <div class="col-md-4">
            <label for="descripcion_modo_falla" class="form-label">Metodo de Deteccion de Falla</label>
            <input type="text" class="form-control" id="metodo_detecion_falla" name="metodo_detecion_falla">
        </div>
        
    </div>
    <div class="Severidad">
        <hr>
        <h3 class="section-title text-center">Severidad</h3>
        <div class="row mt-3">
            <div class="col-md-4">
                <label for="consecuencia_severidad" class="form-label">Consecuencias de Severidad FO - Fallos Ocultos</label>
                <div class="d-flex">
                    <select class="form-control" id="consecuencia_severidad" name="consecuencia_severidad">
                        <!-- Opciones del desplegable -->
                    </select>
                    <input type="number" class="form-control ms-2" style="width: 78px;" name="consecuencia_severidad_valor" placeholder="Valor">
                </div>
            </div>
            <div class="col-md-4">
                <label for="sf" class="form-label">SF - Seguridad Física</label>
                <div class="d-flex">
                    <select class="form-control" id="sf" name="sf">
                        <!-- Opciones del desplegable -->
                    </select>
                    <input type="number" class="form-control ms-2" style="width: 78px;" name="sf_valor" placeholder="Valor">
                </div>
            </div>
            <div class="col-md-4">
                <label for="ma" class="form-label">MA - Medio Ambiente</label>
                <div class="d-flex">
                    <select class="form-control" id="ma" name="ma">
                        <!-- Opciones del desplegable -->
                    </select>
                    <input type="number" class="form-control ms-2" style="width: 78px;" name="ma_valor" placeholder="Valor">
                </div>
            </div>
        </div>

        <div class="row mt-3">
            <div class="col-md-4">
                <label for="io" class="form-label">IO - Impacto Operacional</label>
                <div class="d-flex">
                    <select class="form-control" id="io" name="io">
                        <!-- Opciones del desplegable -->
                    </select>
                    <input type="number" class="form-control ms-2" style="width: 78px;" name="io_valor" placeholder="Valor">
                </div>
            </div>
            <div class="col-md-4">
                <label for="or" class="form-label">OR - Costos de Reparación</label>
                <div class="d-flex">
                    <select class="form-control" id="or" name="or">
                        <!-- Opciones del desplegable -->
                    </select>
                    <input type="number" class="form-control ms-2" style="width: 78px;" name="or_valor" placeholder="Valor">
                </div>
            </div>
            <div class="col-md-4">
                <label for="fo" class="form-label">FO - Flexibilidad Operacional</label>
                <div class="d-flex">
                    <select class="form-control" id="fo" name="fo">
                        <!-- Opciones del desplegable -->
                    </select>
                    <input type="number" class="form-control ms-2" style="width: 78px;" name="fo_valor" placeholder="Valor">
                </div>
            </div>
        </div>
    </div>

    <div class="Riesgo">
        <hr>
        <h3 class="section-title text-center">Riesgo</h3>
        <div class="row mt-3">
            <div class="col-md-4">
                <label for="calculo_severidad" class="form-label">Cálculo de Severidad</label>
                <input type="text" class="form-control" id="calculo_severidad" name="calculo_severidad">
            </div>
            <div class="col-md-4">
                <label for="ocurrencia" class="form-label">Ocurrencia</label>
                <div class="d-flex">
                    <select class="form-control" id="ocurrencia" name="ocurrencia">
                        <!-- Opciones del desplegable -->
                    </select>
                    <input type="number" class="form-control ms-2" style="width: 78px;" name="ocurrencia_valor" placeholder="Valor">
                </div>
            </div>
            <div class="col-md-4">
                <label for="ocurrencia_matematica" class="form-label">Ocurrencia Matemática</label>
                <input type="text" class="form-control gray-input" id="ocurrencia_matematica" name="ocurrencia_matematica">
            </div>
        </div>

        <div class="row mt-3">
            <div class="col-md-4">
                <label for="probabilidad_deteccion" class="form-label">Probabilidad de Detección</label>
                <div class="d-flex">
                    <select class="form-control" id="probabilidad_deteccion" name="probabilidad_deteccion">
                        <!-- Opciones del desplegable -->
                    </select>
                    <input type="number" class="form-control ms-2" style="width: 78px;" name="deteccion_valor" placeholder="Valor">
                </div>
            </div>
            <div class="col-md-4">
                <label for="rpn" class="form-label">RPN Valor total del riesgo</label>
                <input type="text" class="form-control gray-input" id="rpn" name="rpn">
            </div>
            <div class="col-md-4">
                <label for="riesgo" class="form-label">Riesgo</label>
                <input type="text" class="form-control gray-input" id="riesgo" name="riesgo">
            </div>
        </div>
    </div>            
            
                <!-- Botón "Siguiente" que carga la siguiente vista -->
                <div class="text-end mt-4">
                    <button type="button" class="btn btn-primary" id="btn-siguiente">Siguiente Modo de Falla</button>
                </div>
            </form>

        </div>    
    </div>
</div>            
{% endblock %}
